<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Isle of the Riddle Second</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ================= BEACH SCENE ================= -->
  <section class="scene" id="beach-scene">
    <div class="scene-layer">
      <!-- Background + overlays -->
      <img src="images/scene_background.jpg" alt="Background" class="bg">
      <img src="images/ruins.webp" alt="Ruins" class="overlay" data-action="lore">
      <img src="images/teleport.webp" alt="Teleport" class="overlay hidden" data-action="teleport">
      <img src="images/tomb.webp" alt="Tomb" class="overlay" data-action="tomb">
      <img src="images/seal.webp" alt="Seal" class="overlay hidden" data-action="seal">
      <img src="images/tomb_open.webp" alt="Tomb Open" class="overlay hidden" data-action="tomb-open">
      <img src="images/bush.webp" alt="Bush" class="overlay" data-action="bush">
      <img src="images/tablet.webp" alt="Tablet" class="overlay" data-action="riddle">
    </div>

    <!-- Widgets -->
    <div class="widget" id="intro">
      <h2>ğŸŒ™ Isle of the Riddle Second</h2>
      <p>
        You step onto a moonlit beach. Ruins rise from the sand, whispering of forgotten ages.  
        The torches flicker, and the stones seem etched with faint words waiting to be read.
      </p>
      <button onclick="closeWidget()">Start exploring</button>
    </div>

    <div class="widget hidden" id="lore">
      <h2>ğŸ“œ The Forgotten Rulers</h2>
      <p>
        These ruins once belonged to kings and queens whose names have been lost to the tides.  
        They left riddles carved into stone, a trial for those who would awaken their secrets.
      </p>
      <button onclick="closeWidget()">Continue exploring</button>
    </div>

    <div class="widget hidden" id="bush">
      <h2>ğŸŒ¿ Overgrown Bushes</h2>
      <p>
        The bushes are thick and tangled, their leaves shifting with the night breeze.  
        Through the gaps you catch glimpses of weathered stone, as if something ancient lies hidden just behind.  
        If you push them aside, you can see more clearlyâ€¦
      </p>
      <button onclick="closeWidget()">Continue exploring</button>
    </div>

    <div class="widget hidden" id="tomb">
      <h2>âš°ï¸ The Forgotten Tomb</h2>
      <p>
        A forgotten tomb stands half-buried in sand, its top jutting above the bushes.  
        The stone door is carved with patterns that seem to shimmer faintly in the moonlight.  
        Though the entrance is still sealed, the air around it feels heavy, as if waiting for someone to disturb its silence.
      </p>
      <button onclick="closeWidget()">Step back</button>
    </div>

    <div class="widget hidden" id="riddle">
      <h2>áš± Runic Puzzle</h2>
      <p>The ancient tablet glows with runes. Inscriptions nearby read:</p>
      <br>
      <p class="inscriptions">
          áš  + áš  + áš  + áš  = <strong>40</strong><br>
          áš  + áš  + áš¢ + áš¨ = <strong>40</strong><br>
          áš  + áš¢ + áš¢ + áš± = <strong>40</strong><br>
          áš± + áš¢ + áš¨ = <strong>40</strong><br>
      </p>
      <br>
      <p>Click the runes in the correct order to activate the seal.</p>
      <p id="rune-hint">&nbsp;</p>
      <div id="runes">
        <div class="rune" data-value="10">áš </div>
        <div class="rune" data-value="20">áš±</div>
        <div class="rune" data-value="5">áš¢</div>
        <div class="rune" data-value="15">áš¨</div>
      </div>
      <p id="rune-feedback">&nbsp;</p>
    </div>

    <div class="widget hidden" id="teleport">
      <h2>âœ¨ Teleport Activated!</h2>
      <p>
        The runes align and the seal ignites.  
        A shimmering portal opens before you, humming with ancient power.  
        It will transport you to the next scene.
      </p>
      <a href="/scenes/95/" class="button-link">Isle of the Riddle Third</a>
    </div>

    <div class="widget hidden" id="seal">
      <h2>ğŸ”® The Seal Puzzle</h2>
      <p>
        The carvings shift and rearrange themselves into a broken pattern.  
        It feels like the seal will only open if you restore its shape.
      </p>
      <!-- Puzzle container -->
      <div id="puzzle-container">
        <div id="puzzle"></div>
        <div id="puzzle-overlay" class="hidden"></div>
      </div>
      <p id="puzzle-status"></p>
      <button onclick="closeWidget()" id="seal-back-btn">Step back</button>
      <button id="activate-seal-btn" class="hidden">Activate Seal</button>
    </div>

    <div class="widget hidden" id="seal-followup">
      <h2>âš¡ The Seal is Broken</h2>
      <p>
        The carvings flare once, then crumble into dust.  
        The heavy stone door groans and slides away, leaving the tomb entrance unblocked.  
        You feel a rush of cold air from the darkness insideâ€¦
      </p>
      <button onclick="closeWidget()">Continue exploring</button>
    </div>

    <div class="widget hidden" id="tomb-open">
      <h2>ğŸ›ï¸ The Open Tomb</h2>
      <p>
        The seal is gone, and the entrance stands wide open.  
        Beyond the threshold lies darkness, whispering of hidden chambers below.  
        Do you dare to step inside?
      </p>
      <button id="enter-tomb-btn">Enter the tomb</button>
    </div>

    <!-- Floating intro button -->
    <button id="intro-btn" onclick="showWidget('intro')">ğŸ“œ Intro</button>
  </section>

  <!-- ================= CAVE SCENE ================= -->
  <section class="scene hidden" id="cave-scene">
    <div class="scene-layer">
      <!-- Background + overlays -->
      <img src="images/cave_background.jpg" alt="Underground Cave" class="bg">
      <img src="images/entrance.webp" class="overlay" data-action="entrance">
      <img src="images/treasure_middle.webp" class="overlay" data-action="treasure-middle">
      <img src="images/gold_statue.webp" class="overlay" data-action="gold-statue">
      <img src="images/treasure_left.webp" class="overlay" data-action="treasure-left">
      <img src="images/treasure_right.webp" class="overlay" data-action="treasure-right">
    </div>

    <!-- Widgets -->
    <div class="widget hidden" id="cave-followup">
      <h2>ğŸ’ The Hidden Chamber</h2>
      <p>
        You step down into the tomb's dark stairwellâ€¦  
        At the bottom, the chamber opens up into piles of treasure, glittering in the torchlight.  
        Something golden watches you from the shadows.
      </p>
      <button onclick="closeWidget()">Continue exploring</button>
    </div>

    <div class="widget hidden" id="entrance">
      <h2>ğŸšª The Stairwell</h2>
      <p>
        The stone archway rises behind you, leading back up into the ruins above.  
        If you climb the steps, you'll return to the moonlit beach.
      </p>
      <button id="climb-up-btn">Climb Up</button>
    </div>

    <div class="widget hidden" id="treasure-middle">
      <h2>ğŸ† The Central Hoard</h2>
      <p>
        A massive pile of gold coins rises before the stairwell,  
        as if guarding the path below.  
        Gems glitter in the firelight, daring you to take themâ€¦  
        but you can't shake the feeling they're being watched.
      </p>
      <button onclick="closeWidget()">Step back</button>
    </div>

    <div class="widget hidden" id="gold-statue">
      <h2>ğŸ‘‘ The Golden Guardian</h2>
      <p>
        Among the piles of treasure sits a golden statue of a very fancy pup.  
        Crown on her head, fluffy fur â€” she looks way too pampered to be guarding anything.
        Still, her golden eyes sparkle like she knows more than she's letting on. ğŸ• 
        <br><br>
        Some say her name is <em>Queenie</em>â€¦ but maybe that's just a legend. ğŸ˜‰
      </p>
      <button onclick="closeWidget()">Step back</button>
    </div>

    <div class="widget hidden" id="treasure-left">
      <h2>ğŸ’° Treasure Pile</h2>
      <p>
        Chests burst open with coins and jewels,  
        their contents spilling across the floor.  
        An old sword sticks awkwardly out of the heap â€”  
        a reminder that not everyone left this chamber alive.
      </p>
      <button onclick="closeWidget()">Step back</button>
    </div>

    <div class="widget hidden" id="treasure-right">
      <h2>ğŸ’ Glittering Cache</h2>
      <p>
        Coins and jewels spill from battered chests,  
        their colors reflecting against the cave wall.  
        For a moment, the gems almost seem to pulse with light,  
        like the hoard itself is alive.
      </p>
      <button onclick="closeWidget()">Step back</button>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>
